(this["webpackJsonplearn-react-01"]=this["webpackJsonplearn-react-01"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},121:function(e,t,n){},130:function(e,t,n){e.exports=n.p+"static/media/preloader.b62dcd9b.svg"},131:function(e,t,n){e.exports=n.p+"static/media/logo.52694f72.png"},159:function(e,t,n){e.exports=n(293)},161:function(e,t,n){},20:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return p}));var a=n(4),r=n.n(a),c=n(10),o=n(125),u=o.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4c7b227d-d83d-45ab-9f12-6ba2c0dc507f"}}),i={getUsersProfile:function(e){return Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("profile/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getStatus:function(e){return Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("profile/status/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},updateStatus:function(e){return Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.put("profile/status",{status:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},putProfilePhoto:function(e){return Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("image",e),t.next=4,u.put("profile/photo",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)})))()}},s={getUsers:function(){var e=arguments;return Object(c.a)(r.a.mark((function t(){var n,a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,a=e.length>1&&void 0!==e[1]?e[1]:10,t.next=4,u.get("users?page=".concat(n,"&count=").concat(a));case 4:return c=t.sent,t.abrupt("return",c.data);case 6:case"end":return t.stop()}}),t)})))()},follow:function(e){return Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.post("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},unfollow:function(e){return Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.delete("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},l={getAuthData:function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},login:function(e,t,n,a){return Object(c.a)(r.a.mark((function c(){var o;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:a});case 2:return o=r.sent,r.abrupt("return",o.data);case 4:case"end":return r.stop()}}),c)})))()},logout:function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.delete("/auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()}},p={getCaptcha:function(){return Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()}}},242:function(e,t,n){},243:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);n(161),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(6),o=n(4),u=n.n(o),i=n(10),s=n(41),l=n(9),p=n(20),f="social-network/profile/ADD-POST",m="social-network/profile/DELETE_POST",d="social-network/profile/SET_PROFILE",h="social-network/profile/TOGGLE_IS_FETCHING",g="social-network/profile/SET_STATUS",E="social-network/profile/SET_PROFILE_IMAGE",b={fullName:"",profileImage:"",aboutMe:"",posts:[],status:"",lookingForAJob:!1,lookingForAJobDescription:"",contacts:{},isFetching:!1},v=function(e){return{type:f,newPostText:e}},w=function(e){return{type:g,status:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n={id:e.posts.length,message:t.newPostText,likeCount:2};return Object(l.a)({},e,{posts:[].concat(Object(s.a)(e.posts),[n])});case m:return Object(l.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case d:return Object(l.a)({},e,{fullName:t.fullName,aboutMe:t.aboutMe,contacts:t.contacts,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,profileImage:t.photos.large});case E:return Object(l.a)({},e,{profileImage:t.imageUrl});case h:return Object(l.a)({},e,{isFetching:!e.isFetching});case g:return Object(l.a)({},e,{status:t.status});default:return e}},j="social-network/dialogs/ADD-MESSAGE",k={dialogs:[{id:0,Name:"Masha"},{id:1,Name:"Misha"},{id:2,Name:"Sasha"},{id:3,Name:"Pasha"},{id:4,Name:"Dasha"}],messages:[{id:0,text:"buy"},{id:1,text:"hello"},{id:2,text:"hey"},{id:3,text:"where are you"},{id:4,text:"miss u"}]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var n={id:e.messages.length,text:t.newMessageText};return Object(l.a)({},e,{messages:[].concat(Object(s.a)(e.messages),[n])});default:return e}},x=n(63),N=n(36),I="social-network/auth/SET_USER_DATA",S="social-network/auth/SET_CAPTCHA_URL",_={userId:null,login:null,email:null,isAuth:!1,isCaptchaRequired:!1,captchaUrl:null},P=function(e,t,n,a){return{type:I,payload:{userId:e,login:t,email:n,isAuth:a}}},C=function(e){return{type:"social-network/auth/TOGGLE_IS_CAPTCHA_REQUIRED",flag:e}},A=function(e){return{type:S,captchaUrl:e}},T=function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){var n,a,r,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.getAuthData();case 2:0===(n=e.sent).resultCode&&(a=n.data,r=a.id,c=a.login,o=a.email,t(P(r,c,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(l.a)({},e,{},t.payload);case"social-network/auth/TOGGLE_IS_CAPTCHA_REQUIRED":return Object(l.a)({},e,{isCaptchaRequired:t.flag});case S:return Object(l.a)({},e,{captchaUrl:t.captchaUrl});default:return e}},L=n(126),U=n(124),D={isInitialized:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"social-network/app/TOGGLE_IS_INITIALIZED":return Object(l.a)({},e,{isInitialized:t.flag});default:return e}},G=Object(c.c)({dialogPage:y,profilePage:O,friendsPage:x.a,auth:F,form:U.a,app:R}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,J=Object(c.e)(G,M(Object(c.a)(L.a))),z=n(52),q=n.n(z),B=n(14),H=n(15),W=n(17),V=n(16),Q=(n(242),n(12)),X=(n(243),function(){return r.a.createElement("div",{className:"NavBar_padding"},r.a.createElement("nav",null,r.a.createElement("div",null,r.a.createElement(Q.c,{className:"NavBar-NavLink",to:"/profile"},"Profile")),r.a.createElement("div",null,r.a.createElement(Q.c,{className:"NavBar-NavLink",to:"/dialogs"},"Messages")),r.a.createElement("div",null,r.a.createElement(Q.c,{className:"NavBar-NavLink",to:"/friends"},"Friends")),r.a.createElement("div",null,r.a.createElement(Q.c,{className:"NavBar-NavLink",to:"/news"},"News"))))}),Z=n(24),K=(n(248),n(61)),Y=Object(c.d)(K.a)((function(){return r.a.createElement("div",{className:"News_padding"},r.a.createElement("h1",null,"\u0423 \u041c\u0430\u0448\u0438 \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f!!!!!!"),r.a.createElement("img",{width:"400px",src:"https://i.pinimg.com/originals/d0/40/d3/d040d35c4329b603f887b7344af88c64.jpg"}))})),$=(n(109),n(249),function(e){return r.a.createElement("div",null,e.text)}),ee=(n(250),function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",null,r.a.createElement(Q.c,{to:t,className:"Dialog-NavLink"},e.name))}),te=n(122),ne=n(123),ae=n(132),re=(n(110),function(e){var t=e.input,n=e.meta,a=Object(ae.a)(e,["input","meta"]),c=n.touched&&n.error?"FormError-Input":null;return r.a.createElement("div",{className:"FormError"},r.a.createElement(a.element,Object.assign({},t,a,{className:c})),n.touched&&n.error&&r.a.createElement("span",{className:"FormError-Text"},n.error))}),ce=function(e){return r.a.createElement(re,Object.assign({},e,{element:"textarea"}))},oe=function(e){return r.a.createElement(re,Object.assign({},e,{element:"input"}))},ue=function(e){if(!e)return"Field is required"},ie=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols!")}},se=ie(100),le=Object(ne.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(te.a,{component:ce,name:"newMessageText",placeholder:"Enter new message:",validate:[ue,se]}),r.a.createElement("div",null,r.a.createElement("button",null,"add")))})),pe=function(e){var t=e.dialogPage.dialogs.map((function(e){return r.a.createElement(ee,{id:e.id,name:e.Name,key:e.id})})),n=e.dialogPage.messages.map((function(e){return r.a.createElement($,{text:e.text,key:e.id})}));return r.a.createElement("div",{className:"Dialogs_gridTemplate Dialogs_padding"},r.a.createElement("div",null,t),r.a.createElement("div",null,n,r.a.createElement(le,{onSubmit:function(t){e.addMessage(t.newMessageText)}})))},fe=n(11),me=function(e){Object(W.a)(n,e);var t=Object(V.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"render",value:function(){return r.a.createElement(pe,this.props)}}]),n}(r.a.Component),de=Object(c.d)(K.a,Object(fe.b)((function(e){return{dialogPage:e.dialogPage,isAuth:e.auth.isAuth}}),{addMessage:function(e){return{type:j,newMessageText:e}}}))(me),he=(n(288),n(289),r.a.Component,n(87)),ge=function(e){var t=Object(a.useState)(!1),n=Object(he.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(e.status),i=Object(he.a)(u,2),s=i[0],l=i[1];return Object(a.useEffect)((function(){l(e.status)}),[e.status]),r.a.createElement(r.a.Fragment,null,c&&r.a.createElement("div",null,r.a.createElement("span",null,"Status:"),r.a.createElement("input",{type:"text",value:s,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){e.changeStatus(s),o(!1)},autoFocus:!0})),!c&&r.a.createElement("div",{onDoubleClick:function(){return o(!0)}},r.a.createElement("span",null,"Status:"),r.a.createElement("span",null,e.status||"How are you doing?")))},Ee=n(89),be=n.n(Ee),ve=function(e){return r.a.createElement("div",null,e.contactName,": ",e.contactValue)},we=function(e){return r.a.createElement("div",null,r.a.createElement("div",null,e.fullName),r.a.createElement("hr",null),r.a.createElement("div",null,e.aboutMe),r.a.createElement("div",null,"Looking for a job: ",e.lookingForAJob?"yes":"no"),r.a.createElement("div",null,e.lookingForAJobDescription),r.a.createElement("div",null,Object.keys(e.contacts).map((function(t,n){return r.a.createElement(ve,{key:n,contactName:t,contactValue:e.contacts[t]})}))))},Oe=function(e){return r.a.createElement("div",{className:"ProfileInfo-Wrapper"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{className:"ProfileInfo-Image",src:e.profileImage||be.a})),e.isOwner&&r.a.createElement("input",{className:"FileInput",type:"file",onChange:function(t){t.target.files.length&&e.uploadProfileImage(t.target.files[0])}}),r.a.createElement(ge,{status:e.status,changeStatus:e.changeStatus})),r.a.createElement("div",null,r.a.createElement(we,{fullName:e.fullName,aboutMe:e.aboutMe,contacts:e.contacts,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription})))},je=(n(121),n(290),function(e){return r.a.createElement("div",{className:"post"},r.a.createElement("img",{src:"https://yt3.ggpht.com/a/AGF-l78D8sRdVCMJf7gg7Is2apd6wxydsVsoRJ6zPQ=s900-c-k-c0xffffffff-no-rj-mo"}),e.message,r.a.createElement("div",null,e.likeCount," likes"))}),ke=ie(200),ye=Object(ne.a)({form:"profileAddPostForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(te.a,{name:"newPostText",component:ce,placeholder:"Enter new post text",validate:[ue,ke]})),r.a.createElement("div",null,r.a.createElement("button",null,"Post")))})),xe=function(e){var t=e.posts.map((function(e){return r.a.createElement(je,{message:e.message,likeCount:e.likeCount,key:e.id})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"my-posts__new-post"},r.a.createElement(ye,{onSubmit:function(t){e.addPost(t.newPostText)}})),r.a.createElement("div",{className:"my-posts__post-list"},t))},Ne=Object(fe.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:v})(xe),Ie=function(e){return r.a.createElement("div",{className:"Profile_padding"},r.a.createElement(Oe,e),r.a.createElement(Ne,null))},Se=n(45),_e=function(e){Object(W.a)(n,e);var t=Object(V.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){(this.props.match.params.userId!==e.match.params.userId||!this.props.match.params.userId&&this.props.authorizedUserId!==e.authorizedUserId)&&this.refreshProfile()}},{key:"refreshProfile",value:function(){var e=this.props.match.params.userId||this.props.authorizedUserId;e||this.props.history.push("/login"),this.props.getUsersProfile(e),this.props.getUsersStatus(e)}},{key:"render",value:function(){var e=!this.props.match.params.userId||this.props.match.params.userId===this.props.authorizedUserId;return a.createElement(a.Fragment,null,a.createElement(Ie,Object.assign({},this.props,{isOwner:e})))}}]),n}(a.Component),Pe=Object(c.d)(Z.g,Object(fe.b)((function(e){return Object(l.a)({authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth},e.profilePage)}),{addPost:v,toggleIsFetching:x.f,getUsersProfile:function(e){return function(){var t=Object(i.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.b.getUsersProfile(e);case 2:a=t.sent,n((r=a,Object(l.a)({type:d},r)));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsersStatus:function(e){return function(){var t=Object(i.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.b.getStatus(e);case 2:a=t.sent,n(w(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},changeStatus:function(e){return function(){var t=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.b.updateStatus(e);case 2:0===t.sent.resultCode&&n(w(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},uploadProfileImage:function(e){return function(){var t=Object(i.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.b.putProfilePhoto(e);case 2:0===(a=t.sent).resultCode&&n((r=a.data.photos.large,{type:E,imageUrl:r})),console.log(a.messages);case 5:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(_e),Ce=(n(291),n(131)),Ae=n.n(Ce),Te=function(e){return r.a.createElement("header",{className:"Header"},r.a.createElement("img",{className:"SiteLogo",src:Ae.a}),r.a.createElement("div",{className:"LoginBlock"},e.isAuth&&r.a.createElement("div",null,e.login,r.a.createElement("br",null),r.a.createElement("button",{onClick:e.logout},"Logout")),!e.isAuth&&r.a.createElement(Q.c,{to:"/login"},"Login")))},Fe=function(e){Object(W.a)(n,e);var t=Object(V.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"render",value:function(){return r.a.createElement(Te,this.props)}}]),n}(r.a.Component),Le=Object(fe.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.logout();case 2:0===e.sent.resultCode&&t(P(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Fe),Ue=Object(ne.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(te.a,{placeholder:"Login",name:"login",type:"text",component:oe,validate:[ue]})),r.a.createElement("div",null,r.a.createElement(te.a,{placeholder:"Password",name:"password",type:"password",component:oe,validate:[ue]})),r.a.createElement("div",null,r.a.createElement(te.a,{name:"rememberMe",type:"checkbox",component:oe}),"remember me"),e.error&&r.a.createElement("div",{className:"FormError_summary"},"Incorrect login or password"),e.isCaptchaRequired&&r.a.createElement("img",{src:e.captchaUrl}),e.isCaptchaRequired&&r.a.createElement("div",null,r.a.createElement(te.a,{name:"captcha",placeholder:"captcha",type:"text",validate:[ue],component:oe})),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),De=(n(292),function(e){Object(W.a)(n,e);var t=Object(V.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"render",value:function(){var e=this;return this.props.isAuth?r.a.createElement(Z.a,{to:"/profile"}):r.a.createElement("div",{className:"Login_padding"},r.a.createElement("h1",null,"Login"),r.a.createElement(Ue,{onSubmit:function(t){e.props.login(t.login,t.password,t.rememberMe,t.captcha)},isCaptchaRequired:this.props.isCaptchaRequired,captchaUrl:this.props.captchaUrl}),r.a.createElement("p",null,"If you don't have an account, use test login and password."),r.a.createElement("p",null,"Login: free@samuraijs.com"),r.a.createElement("p",null,"Password: free"))}}]),n}(r.a.Component)),Re=Object(fe.b)((function(e){return{isAuth:e.auth.isAuth,isCaptchaRequired:e.auth.isCaptchaRequired,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,a){return function(){var r=Object(i.a)(u.a.mark((function r(c){var o,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.a.login(e,t,n,a);case 2:o=r.sent,c(C(!1)),0===o.resultCode?(c(T()),c(A(null))):(10===o.resultCode&&(c(C(!0)),c(function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.c.getCaptcha();case 2:n=e.sent,t(A(n.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),s=o.messages.length>0?o.messages[0]:"Something wrong",c(Object(N.a)("login",{_error:s})));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})(De),Ge=function(e){var t=function(t){return r.a.createElement(fe.a,{store:J},r.a.createElement(e,t))};return t.displayName="withStoreProvider(".concat(e.displayName||e.name||"Component",")"),t},Me=function(e){var t=function(t){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(Se.a,null)},r.a.createElement(e,t))};return t.displayName="withSuspense(".concat(e.displayName||e.Name||"Component",")"),t},Je=function(e){var t=function(t){return r.a.createElement(Q.b,null,r.a.createElement(e,t))};return t.displayName="withHashRouter(".concat(e.displayName||e.name||"Component",")"),t},ze=r.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,406))})),qe=function(e){Object(W.a)(n,e);var t=Object(V.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.isInitialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement("div",{className:"app-wrapper__header"},r.a.createElement(Le,null)),r.a.createElement("div",{className:"app-wrapper__nav"},r.a.createElement(X,null)),r.a.createElement("div",{className:"app-wrapper__content"},r.a.createElement(Z.d,null,r.a.createElement(Z.a,{exact:!0,from:"/",to:"/profile"}),r.a.createElement(Z.b,{path:"/dialogs",render:function(){return r.a.createElement(de,null)}}),r.a.createElement(Z.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Pe,null)}}),r.a.createElement(Z.b,{path:"/news",render:function(){return r.a.createElement(Y,null)}}),r.a.createElement(Z.b,{path:"/friends",render:function(){return Me(ze)()}}),r.a.createElement(Z.b,{path:"/login",render:function(){return r.a.createElement(Re,null)}}),r.a.createElement(Z.b,{path:"*",render:function(){return r.a.createElement("h1",null,"404: Page not found")}})))):r.a.createElement(Se.a,null)}}]),n}(r.a.Component),Be=Object(c.d)(Je,Ge,Z.g,Object(fe.b)((function(e){return{isInitialized:e.app.isInitialized}}),{initializeApp:function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(T());case 2:t({type:"social-network/app/TOGGLE_IS_INITIALIZED",flag:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(qe);q.a.render(r.a.createElement(Be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,t,n){"use strict";var a=n(130),r=n.n(a),c=n(0),o=n.n(c);t.a=function(e){return o.a.createElement("div",null,o.a.createElement("img",{className:"preloader",src:r.a}))}},61:function(e,t,n){"use strict";var a=n(14),r=n(15),c=n(17),o=n(16),u=n(0),i=n.n(u),s=n(24),l=n(11);t.a=function(e){var t=function(t){Object(c.a)(u,t);var n=Object(o.a)(u);function u(){return Object(a.a)(this,u),n.apply(this,arguments)}return Object(r.a)(u,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(s.a,{to:"/login"})}}]),u}(i.a.Component);t.displayName="withAuthRedirect(".concat(e.displayName||e.name||"Component",")");return Object(l.b)((function(e){return{isAuth:e.auth.isAuth}}),{})(t)}},63:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return E})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return O}));var a=n(4),r=n.n(a),c=n(10),o=n(41),u=n(9),i=n(20),s=function(e,t,n,a){return e.map((function(e){return e[t]===n?Object(u.a)({},e,{},a):e}))},l="social-network/friends/SET_FRIENDS",p="social-network/friends/TOGGLE_FOLLOWED",f="social-network/friends/SET_CURRENT_PAGE",m="social-network/friends/SET_TOTAL_USERS_COUNT",d="social-network/friends/TOGGLE_IS_FETCHING",h={friends:[],pageSize:5,totalUsersCount:20,currentPage:1,isFetching:!1,isFollowingInProgress:!1},g=function(e,t){return{type:p,friendId:e,flag:t}},E=function(e){return{type:f,pageNumber:e}},b=function(e){return{type:d,flag:e}},v=function(e){return{type:"social-network/friends/TOGGLE_IS_FOLLOWING_IN_PROGRESS",flag:e}},w=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(b(!0)),n.next=3,i.d.getUsers(e,t);case 3:c=n.sent,a((o=c.items,{type:l,friends:o})),a((r=c.totalCount,{type:m,totalCount:r})),a(b(!1));case 7:case"end":return n.stop()}var r,o}),n)})));return function(e){return n.apply(this,arguments)}}()},O=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(v(!0)),c=t?i.d.follow:i.d.unfollow,n.next=4,c(e);case 4:0===n.sent.resultCode&&a(g(e,t)),a(v(!1));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(u.a)({},e,{friends:Object(o.a)(t.friends)});case p:return Object(u.a)({},e,{friends:s(e.friends,"id",t.friendId,{followed:t.flag})});case f:return Object(u.a)({},e,{currentPage:t.pageNumber});case m:return Object(u.a)({},e,{totalUsersCount:t.totalCount});case d:return Object(u.a)({},e,{isFetching:t.flag});case"social-network/friends/TOGGLE_IS_FOLLOWING_IN_PROGRESS":return Object(u.a)({},e,{isFollowingInProgress:t.flag});default:return e}}},89:function(e,t,n){e.exports=n.p+"static/media/userIcon.d988dee4.png"}},[[159,1,2]]]);
//# sourceMappingURL=main.ee6ba428.chunk.js.map